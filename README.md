### intelligent-agriculture

##一 项目背景
农业作为国民经济的基础，长期以来在国家经济发展中扮演着至关重要的角色。随着人口的不断增加和资源环境的压力日益加大，传统农业面临着效率低、资源浪费严重等问题。为了解决这些问题，提升农业生产的智能化和精准化，现代农业正朝着智慧农业的方向发展，物联网、传感器技术、数据分析等前沿技术的应用成为推动农业转型的关键。
基于这一背景，本项目设计并实现了一套基于STM32F407的智慧农业系统。该系统通过集成多种环境传感器（如温湿度传感器、光照传感器、电压传感器等）对农业生产环境进行实时监测，采集数据并通过TCP/IP协议与上位机平台进行数据传输。具体实现过程中，系统使用STM32F407作为主控芯片，搭载DHT11温湿度传感器、光照传感器等模块，并通过ESP8266模块将采集到的数据上传到云平台，供农业管理人员进行数据分析和决策。
##二 系统架构设计
主控芯片采用STM32F407VET6,传感器模块采用LED，BEEP，KEY等基础传感器进行基本参照提示与模式切换，DHT11温湿度传感器进行温度湿度采集，adc驱动的光敏电阻和可变电压传感器进行光照和电压监控，使用I2C协议的oled显示屏进行数据的展示，使用pwm驱动led进行亮度调节，pwm驱动beep进行音量调节，使用key进行中断interrupt使模式随时切换，通过usart串口1对接收到的数据进行处理，使用dma进行数据的存储。
设备板示意图：
##三 项目功能需求
#1.	检测环境指标：能够检测环境中的温度，湿度，光敏电阻，可变电压器电压等信息。
#2.	本地显示功能：能在OLED屏幕上显示温度，湿度，光敏电阻，电位器电压四种数据。
#3.	PWM驱动呼吸灯：当环境湿度高于40 %，LED2会进入呼吸灯模式进行提醒。
#4.	远端显示功能：通过串口能在上位机显示温度，湿度，光照，电位器电压四种数据。
#5.	模式切换功能：按下按键，通过中断进行模式的切换。
#6.	上位机下位机通信功能：下位机发送菜单给上位机，上位机选择功能，如蜂鸣器(PWM警报音)，LED开关等。下位机执行。
#7.	显示图片功能：切换模式后原本显示环境指标的oled屏会切换成图片。	
#8.	PWM驱动蜂鸣器：蜂鸣器会警报音两声后常响，可通过串口关闭。
#9.	LED灯的使用：LED3号灯熄灭，表示系统处于模式1，LED3号灯常量，表示系统处于模式2。
#10.	数据的本地保存：能将数据进行DMA存储，键入需要保存的字符串，可以进行保存。
________________________________________
##四 开发环境搭建：
整个系统开发所用到的开发语言和工具如下：
#（1）开发语言
硬件端：C语言
#（2）开发工具
编译器：KEIL5
